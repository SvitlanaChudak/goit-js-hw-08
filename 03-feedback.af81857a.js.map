{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAEMC,EAAO,CACTC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,QAASH,SAASC,cAAc,4BASpC,SAASG,EAAUC,GACf,MAAMC,EAAO,CAAEJ,MAAO,GAAIC,QAAS,IACnCG,EAAKJ,MAAQJ,EAAKI,MAAMK,MACxBD,EAAKH,QAAUL,EAAKK,QAAQI,MAC5BC,aAAaC,QAlBG,sBAkBkBC,KAAKC,UAAUL,G,CAVrDR,EAAKC,KAAKa,iBAAiB,UAa3B,SAAsBP,GAClBA,EAAIQ,iBACJC,QAAQC,IAAI,UAAUjB,EAAKI,MAAMK,mBAAmBT,EAAKK,QAAQI,SACjEF,EAAIW,OAAOC,QACXT,aAAaU,WAzBG,sB,IASpBpB,EAAKI,MAAMU,iBAAiB,QAASO,EAAAvB,EAAA,CAASQ,EAAW,MACzDN,EAAKK,QAAQS,iBAAiB,QAASO,EAAAvB,EAAA,CAASQ,EAAW,MAkB3D,WACI,MAAMgB,EAAYZ,aAAaa,QA7Bf,uBA8BVC,EAAYZ,KAAKa,MAAMH,GACzBE,IACAxB,EAAKI,MAAMK,MAAQe,EAAUpB,OAAS,GACtCJ,EAAKK,QAAQI,MAAQe,EAAUnB,SAAW,G,CArBlDqB","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    email: document.querySelector('.feedback-form input'),\n    message: document.querySelector('.feedback-form textarea'),\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.email.addEventListener('input', throttle(onSetData, 500));\nrefs.message.addEventListener('input', throttle(onSetData, 500));\n\nonGetData()\n\nfunction onSetData(evt) {\n    const data = { email: '', message: '' };\n    data.email = refs.email.value;\n    data.message = refs.message.value;\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n};\n\nfunction onFormSubmit(evt) {\n    evt.preventDefault();\n    console.log(`email: ${refs.email.value}, message: ${refs.message.value}`);\n    evt.target.reset();\n    localStorage.removeItem(STORAGE_KEY);\n}\n\nfunction onGetData() {\n    const savedData = localStorage.getItem(STORAGE_KEY);\n    const parseData = JSON.parse(savedData);\n    if (parseData) {\n        refs.email.value = parseData.email || ''\n        refs.message.value = parseData.message || ''\n    }\n}\n\n\n\n"],"names":["$8zd4h","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","email","message","$945622fd0f572e60$var$onSetData","evt","data","value","localStorage","setItem","JSON","stringify","addEventListener","preventDefault","console","log","target","reset","removeItem","$parcel$interopDefault","savedData","getItem","parseData","parse","$945622fd0f572e60$var$onGetData"],"version":3,"file":"03-feedback.af81857a.js.map"}