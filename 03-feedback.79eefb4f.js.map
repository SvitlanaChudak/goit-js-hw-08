{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAEMC,EAAeC,SAASC,cAAc,kBAE5CF,EAAaG,iBAAiB,UAa9B,SAAsBC,GAClBA,EAAIC,iBACJC,QAAQC,IAAI,UAAUP,EAAaQ,MAAMC,mBAAmBT,EAAaU,QAAQD,SACjFL,EAAIO,OAAOC,QACXC,aAAaC,WArBG,sB,IAKpBd,EAAaG,iBAAiB,QAASY,EAAAjB,EAAA,EAIvC,SAAmBM,GACf,IAAIY,EAAYH,aAAaI,QAVb,uBAWZC,EAAYC,KAAKC,MAAMJ,GAC3BA,EAAYA,EAAYE,EAAY,GACpCF,EAAUZ,EAAIO,OAAOU,MAAQjB,EAAIO,OAAOF,MACxCI,aAAaS,QAdG,sBAckBH,KAAKI,UAAUP,G,GATM,MAmB3D,WACI,IAAIA,EAAYH,aAAaI,QAzBb,uBA0BZC,EAAYC,KAAKC,MAAMJ,GACvBE,IACAlB,EAAaQ,MAAMC,MAAQS,EAAUV,OAAS,GAC9CR,EAAaU,QAAQD,MAAQS,EAAUR,SAAW,G,CAtB1Dc","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash/throttle';\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst feedbackForm = document.querySelector('.feedback-form');\n\nfeedbackForm.addEventListener('submit', onFormSubmit);\nfeedbackForm.addEventListener('input', throttle(onSetData, 500));\n\nonGetData()\n\nfunction onSetData(evt) {\n    let savedData = localStorage.getItem(STORAGE_KEY);\n    let parseData = JSON.parse(savedData);\n    savedData = savedData ? parseData : {};\n    savedData[evt.target.name] = evt.target.value;\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(savedData));\n};\n\nfunction onFormSubmit(evt) {\n    evt.preventDefault();\n    console.log(`email: ${feedbackForm.email.value}, message: ${feedbackForm.message.value}`);\n    evt.target.reset();\n    localStorage.removeItem(STORAGE_KEY);\n}\n\nfunction onGetData() {\n    let savedData = localStorage.getItem(STORAGE_KEY);\n    let parseData = JSON.parse(savedData);\n    if (parseData) {\n        feedbackForm.email.value = parseData.email || ''\n        feedbackForm.message.value = parseData.message || ''\n    }\n}\n\n\n\n\n\n\n\n\n\n"],"names":["$8zd4h","parcelRequire","$945622fd0f572e60$var$feedbackForm","document","querySelector","addEventListener","evt","preventDefault","console","log","email","value","message","target","reset","localStorage","removeItem","$parcel$interopDefault","savedData","getItem","parseData","JSON","parse","name","setItem","stringify","$945622fd0f572e60$var$onGetData"],"version":3,"file":"03-feedback.79eefb4f.js.map"}